!function(){"use strict";var o={d:function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:function(o,e){return Object.prototype.hasOwnProperty.call(o,e)}};function e(o){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e(o)}function t(o){var t=function(o,t){if("object"!=e(o)||!o)return o;var r=o[Symbol.toPrimitive];if(void 0!==r){var n=r.call(o,t||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(o)}(o,"string");return"symbol"==e(t)?t:t+""}function r(o,e,r){return(e=t(e))in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}o.d({},{f:function(){return F}});var n=window.wp.element,l=window.wp.i18n,c=window.wp.blocks,u=window.wp.hooks,i=window.blocksyOptions;const s={inputFontColor:"",customInputFontColor:"",inputFontColorFocus:"",customInputFontColorFocus:"",inputIconColor:"",customInputIconColor:"",inputIconColorFocus:"",customInputIconColorFocus:"",inputBorderColor:"",customInputBorderColor:"",inputBorderColorFocus:"",customInputBorderColorFocus:"",inputBackgroundColor:"",customInputBackgroundColor:"",inputBackgroundColorFocus:"",customInputBackgroundColorFocus:"",buttonBackgroundColor:"",customButtonBackgroundColor:"",buttonBackgroundColorHover:"",customButtonBackgroundColorHover:""},a=(0,i.getColorsDefaults)(s);var b=window.wp.blockEditor,p=window.wp.components;function m(){return m=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},m.apply(null,arguments)}var d=window.React;function f(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),t.push.apply(t,r)}return t}function g(o){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach(function(e){r(o,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e))})}return o}const{has_cookies_checkbox:y}=window.blc_newsletter_data,C=!!parseInt(y);var w=function({attributes:o,buttonStyles:e,setAttributes:t}){const{newsletter_subscribe_view_type:r,newsletter_subscribe_name_label:l,newsletter_subscribe_button_text:c,has_newsletter_subscribe_name:u,newsletter_subscribe_mail_label:i,newsletter_subscribe_container_type:s="default",newsletter_subscribe_name_required:a="no"}=o;return(0,d.useEffect)(function(){t("yes"===a?{newsletter_subscribe_name_label:`${l} *`}:{newsletter_subscribe_name_label:l.replace(" *","")})},[a]),(0,n.createElement)("div",{className:"ct-newsletter-subscribe-block"},(0,n.createElement)("form",{action:"#",method:"post",target:"_blank",className:"ct-newsletter-subscribe-form","data-provider":"demo"},(0,n.createElement)("div",m({className:"ct-newsletter-subscribe-form-elements"},"default"===s?{}:{"data-container":s},"inline"!==r?{}:{"data-columns":"yes"===u?3:2}),"yes"===u?(0,n.createElement)("input",{type:"text",name:"FNAME",title:"Name",value:l,onChange:function(o){t({newsletter_subscribe_name_label:o.target.value})}}):null,(0,n.createElement)("input",{type:"email",name:"EMAIL",title:"Email",required:"",value:i,onChange:function(o){t({newsletter_subscribe_mail_label:o.target.value})}}),(0,n.createElement)(b.RichText,{className:"wp-element-button",style:g({},e),tagName:"span",value:c,placeholder:"Search",allowedFormats:[],onChange:function(o){return t({newsletter_subscribe_button_text:o})}})),C?(0,n.createElement)("p",{className:"gdpr-confirm-policy"},(0,n.createElement)("input",{name:"ct_has_gdprconfirm",type:"hidden",value:"yes"}),(0,n.createElement)("input",{id:"gdprconfirm_newsletter-subscribe",className:"ct-checkbox",name:"gdprconfirm",type:"checkbox",required:""}),(0,n.createElement)("label",{for:"gdprconfirm_newsletter-subscribe"},"I accept the"," ",(0,n.createElement)("a",{href:"/privacy-policy"},"Privacy Policy"))):null,(0,n.createElement)("div",{className:"ct-newsletter-subscribe-message"})))};function _(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),t.push.apply(t,r)}return t}function h(o){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?_(Object(t),!0).forEach(function(e){r(o,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e))})}return o}var k,v=(0,b.withColors)({textColor:"color"},{inputFontColor:"color"},{inputFontColorFocus:"color"},{inputIconColor:"color"},{inputIconColorFocus:"color"},{inputBorderColor:"color"},{inputBorderColorFocus:"color"},{inputBackgroundColor:"color"},{inputBackgroundColorFocus:"color"},{buttonBackgroundColor:"color"},{buttonBackgroundColorHover:"color"})(function({attributes:o,setAttributes:e,clientId:t,inputFontColor:r,setInputFontColor:c,inputFontColorFocus:u,setInputFontColorFocus:a,inputIconColor:m,setInputIconColor:d,inputIconColorFocus:f,setInputIconColorFocus:g,inputBorderColor:y,setInputBorderColor:C,inputBorderColorFocus:_,setInputBorderColorFocus:k,inputBackgroundColor:v,setInputBackgroundColor:B,inputBackgroundColorFocus:O,setInputBackgroundColorFocus:I,buttonBackgroundColor:E,setButtonBackgroundColor:j,buttonBackgroundColorHover:P,setButtonBackgroundColorHover:x}){var A,V;const N=null==o||null===(A=o.style)||void 0===A||null===(V=A.border)||void 0===V?void 0:V.radius,S=(0,b.useBlockProps)({style:h(h(h({"--theme-form-text-initial-color":null==r?void 0:r.color,"--theme-form-text-focus-color":null==u?void 0:u.color,"--theme-form-field-border-initial-color":null==y?void 0:y.color,"--theme-form-field-border-focus-color":null==_?void 0:_.color,"--theme-form-field-background-initial-color":null==v?void 0:v.color,"--theme-form-field-background-focus-color":null==O?void 0:O.color},null!=o&&o.newsletter_subscribe_height?{"--theme-form-field-height":`${o.newsletter_subscribe_height}px`}:{}),N?{"--theme-form-field-border-radius":`${"string"==typeof N?N:N.topLeft||"0px"}`}:{}),null!=o&&o.newsletter_subscribe_gap?{"--theme-form-field-gap":`${o.newsletter_subscribe_gap}px`}:{})});return(0,n.createElement)("div",S,(0,n.createElement)(w,{attributes:o,setAttributes:e,buttonStyles:h(h(h(h({},null!=m&&m.color?{"--theme-button-text-initial-color":m.color}:{}),null!=f&&f.color?{"--theme-button-text-hover-color":f.color}:{}),null!=E&&E.color?{"--theme-button-background-initial-color":E.color}:{}),null!=P&&P.color?{"--theme-button-background-hover-color":P.color}:{})}),(0,n.createElement)(b.InspectorControls,null,(0,n.createElement)(p.PanelBody,null,(0,n.createElement)(i.OptionsPanel,{purpose:"gutenberg",onChange:function(o,t){e({[o]:t})},options:F,value:o,hasRevertButton:!1}))),(0,n.createElement)(b.InspectorControls,{group:"styles"},(0,n.createElement)("div",{className:"blocksy-options-hide-border-unlink"}),(0,n.createElement)(i.ColorsPanel,{label:(0,l.__)("Input Font Color","blocksy-companion"),resetAll:function(){c(s.inputFontColor),a(s.inputFontColorFocus)},panelId:t,settings:[{colorValue:r.color,label:(0,l.__)("Initial","blocksy-companion"),enableAlpha:!0,onColorChange:function(o){return c(o||s.inputFontColor)}},{colorValue:u.color,label:(0,l.__)("Focus","blocksy-companion"),enableAlpha:!0,onColorChange:function(o){return a(o||s.inputFontColorFocus)}}]}),(0,n.createElement)(i.ColorsPanel,{label:"boxed"===o.newsletter_subscribe_container_type?(0,l.__)("Container Border Color","blocksy-companion"):(0,l.__)("Input Border Color","blocksy-companion"),resetAll:function(){C(s.inputBorderColor),k(s.inputBorderColorFocus)},panelId:t,settings:[{colorValue:y.color,label:(0,l.__)("Initial","blocksy-companion"),enableAlpha:!0,onColorChange:function(o){return C(o||s.inputBorderColor)}},{colorValue:_.color,label:(0,l.__)("Focus","blocksy-companion"),enableAlpha:!0,onColorChange:function(o){return k(o||s.inputBorderColorFocus)}}]}),(0,n.createElement)(i.ColorsPanel,{label:"boxed"===o.newsletter_subscribe_container_type?(0,l.__)("Container Background Color","blocksy-companion"):(0,l.__)("Input Background Color","blocksy-companion"),resetAll:function(){B(s.inputBackgroundColor),I(s.inputBackgroundColorFocus)},panelId:t,settings:[{colorValue:v.color,label:(0,l.__)("Initial","blocksy-companion"),enableAlpha:!0,onColorChange:function(o){return B(o||s.inputBackgroundColor)}},{colorValue:O.color,label:(0,l.__)("Focus","blocksy-companion"),enableAlpha:!0,onColorChange:function(o){return I(o||s.inputBackgroundColorFocus)}}]}),(0,n.createElement)(i.ColorsPanel,{label:(0,l.__)("Button Text Color","blocksy-companion"),resetAll:function(){d(s.inputIconColor),g(s.inputIconColorFocus)},panelId:t,settings:[{colorValue:m.color,label:(0,l.__)("Initial","blocksy-companion"),enableAlpha:!0,onColorChange:function(o){return d(o||s.inputIconColor)}},{colorValue:f.color,label:(0,l.__)("Hover","blocksy-companion"),enableAlpha:!0,onColorChange:function(o){return g(o||s.inputIconColorFocus)}}]}),(0,n.createElement)(i.ColorsPanel,{label:(0,l.__)("Button Background Color","blocksy-companion"),resetAll:function(){j(s.buttonBackgroundColor),x(s.buttonBackgroundColorHover)},panelId:t,settings:[{colorValue:E.color,label:(0,l.__)("Initial","blocksy-companion"),enableAlpha:!0,onColorChange:function(o){return j(o||s.buttonBackgroundColor)}},{colorValue:P.color,label:(0,l.__)("Hover","blocksy-companion"),enableAlpha:!0,onColorChange:function(o){return x(o||s.buttonBackgroundColorHover)}}]})))});function B(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),t.push.apply(t,r)}return t}function O(o){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?B(Object(t),!0).forEach(function(e){r(o,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e))})}return o}const F=(0,i.getOptionsForBlock)("newsletter"),I=(0,i.getAttributesFromOptions)(F);(0,u.addFilter)("editor.BlockEdit","custom/removeUnlinkBorderRadius",function(o){return function(e){var t,r,l;if(!e||!e.name||"blocksy/newsletter"!==e.name)return(0,n.createElement)(o,e);if(null!==(t=e.attributes)&&void 0!==t&&null!==(r=t.style)&&void 0!==r&&null!==(l=r.border)&&void 0!==l&&l.radius){const o=Object.values(e.attributes.style.border.radius),t=o.find(function(e){return e!==o[0]});e.attributes.style.border.radius={topLeft:t||o[0],topRight:t||o[0],bottomRight:t||o[0],bottomLeft:t||o[0]}}return(0,n.createElement)(o,e)}}),(0,c.registerBlockType)("blocksy/newsletter",{apiVersion:3,title:(0,l.__)("Newsletter Controls","blocksy-companion"),icon:{src:(0,n.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"wc-block-editor-components-block-icon"},(0,n.createElement)("path",{d:"M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM5 6.5h14c.3 0 .5.2.5.5v.9L12 13.6 4.5 7.9V7c0-.3.2-.5.5-.5zm14 11H5c-.3 0-.5-.2-.5-.5V9.8l7.5 5.6 7.5-5.6V17c0 .3-.2.5-.5.5z"}))},category:"widgets",supports:{html:!1,inserter:!1,lock:!1,__experimentalBorder:{color:!1,radius:!0,width:!1,__experimentalSkipSerialization:!0,__experimentalDefaultControls:{color:!1,radius:!0,width:!1}}},parent:["blocksy/widgets-wrapper"],attributes:O(O({},I),a),edit:function(o){return(0,n.createElement)(v,o)},save:function(){return(0,n.createElement)("div",null,"Blocksy: Newsletter")}}),wp.blocks.registerBlockVariation("blocksy/widgets-wrapper",{name:"blocksy-newsletter",title:(0,l.__)("Newsletter","blocksy-companion"),attributes:{heading:(0,l.__)("Newsletter","blocksy-companion"),block:"blocksy/newsletter",hasDescription:!0,description:(null==I||null===(k=I.newsletter_subscribe_text)||void 0===k?void 0:k.default)||""},isActive:function(o){return"blocksy/newsletter"===o.block},icon:{src:(0,n.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"wc-block-editor-components-block-icon"},(0,n.createElement)("path",{d:"M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM5 6.5h14c.3 0 .5.2.5.5v.9L12 13.6 4.5 7.9V7c0-.3.2-.5.5-.5zm14 11H5c-.3 0-.5-.2-.5-.5V9.8l7.5 5.6 7.5-5.6V17c0 .3-.2.5-.5.5z"}))}})}();